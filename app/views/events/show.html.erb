<div class="event-container">
  <h1><%= @event.title %></h1>

  <div class="event-info">
    <p><strong>Date de début :</strong> <%= @event.start_date.strftime("%d/%m/%Y %H:%M") %></p>
    <p><strong>Date de fin :</strong> <%= @event.end_date.strftime("%d/%m/%Y %H:%M") %></p>
    <p><strong>Durée :</strong> <%= @event.duration %> minutes</p>
    <p><strong>Prix :</strong> <%= @event.price %> €</p>
    <p><strong>Lieu :</strong> <%= @event.location %></p>
  </div>

  <h2>Description</h2>
  <div class="event-description">
    <%= simple_format(@event.description) %>
  </div>

  <p class="organizer">
    <strong>Organisateur :</strong>
    <% if current_user == @event.admin %>
      <%= link_to @event.admin&.first_name || "Anonyme", user_path(@event.admin) if @event.admin %>
    <% else %>
      <%= @event.admin&.first_name %>
    <% end %>
  </p>

  <h2>Participants (<%= @event.attendees.count %>)</h2>
  <% if @event.attendances.any? %>
    <ul class="participants-list">
      <% @event.attendances.includes(:user).each do |attendance| %>
        <li><%= attendance.user.first_name %> <%= attendance.user.last_name %></li>
      <% end %>
    </ul>
  <% else %>
    <p class="empty-message">Aucun participant pour le moment.</p>
  <% end %>
</div>
